<mx-query-state (reloadData)="reloadData()" [query]="images">
  <p class="mx-gallery__count">{{imagesCounter()}} / {{imagesCount.data()?.data}}</p>
  <div class="mx-gallery__images">
    @for(image of images.data()?.data; track image.id; let idx = $index){
    <div class="mx-gallery__card">
      <div class="mx-gallery__image-wrapper">
        <img priority="" [lightbox]="idx" [alt]="image.title ? image.title : ''" class="mx-gallery__image" fill
          referrerpolicy="no-referrer" [ngSrc]="image.link">
      </div>
      <h2 class="mx-gallery__image-description">
        @if(image.title){
        {{image.title}}
        }@else {
        &dash;
        }
      </h2>
      <p class="mx-gallery__image-description">
        @if(image.description){
        {{image.description}}
        }@else {
        &dash;
        }
      </p>
    </div>
    }
  </div>
  @if(page() < maxPage()){ <button class="btn mx-gallery__btn mx-gallery__btn--next" (click)="nextPage()">
    <mx-icon type="chevronRight"></mx-icon>
    </button>
    }
    @if(page() > 0){
    <button class="btn mx-gallery__btn mx-gallery__btn--prev" (click)="prevPage()"><mx-icon
        type="chevronLeft"></mx-icon></button>
    }
</mx-query-state>